{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "title": "Detector State",
  "description": "Information concerning the state of the detector",
  "type": "object",
  "properties": {
		"measurement_input": {
      "title": "Input",
      "type": "object",
      "id": "measurement_input",
      "properties": {
        "primary_datasets": {
          "title": "Primary Datasets",
          "description": "Add CMS primary datasets",
          "type": "array",
          "id": "primary-datasets",
          "items": {
            "$ref": "https://analysis-preservation.cern.ch/records/jsonschemas/definitions/PrimaryDataset-vtest01.json",
            "properties": {
              "copypaste": {
                "type": "string"
              }
            }
          }
        },
        "mc_dataset": {
          "title": "Monte Carlo Datasets",
          "description": "Add Monte Carlo datasets",
          "type": "array",
          "id": "mc-datasets",
          "items": {
            "$ref": "https://analysis-preservation.cern.ch/records/jsonschemas/definitions/MonteCarloDataset-vtest01.json",
            "defaultProperties": [
              "title"
            ]
          }
        }
      }
    },
    "measurement_code": {
			"$ref": "https://analysis-preservation.cern.ch/records/jsonschemas/definitions/CMSUserCode.json"
		},
		"measurement_output": {
			"$ref": "https://analysis-preservation.cern.ch/records/jsonschemas/definitions/CMSOutput.json"
		},
    "final_state_particles": {
      "title": "Final State Particles",
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "object": {
            "title": "Object",
            "type": "string",
            "enum": [
              "electron",
              "muon",
              "tau",
              "jet",
              "bjet",
              "photon"
            ]
          },
          "jet_type": {
            "type": "string",
            "title": "Jet type",
            "enum": [
              "AK4",
              "AK8"
            ],
            "dependencies": [
              "object"
            ]
          },
          "sel_criteria": {
            "type": "string",
            "title": "Selection Criteria",
            "enum": ["tight", "loose"],
            "dependencies": [
              "object"
            ]
          },
          "number": {
            "title": "Number",
            "type": "object",
            "properties": {
              "sign": {
                "type": "string",
                "title": "<, >, =, <=, >=",
                "enum": [
                  "<",
                  ">",
                  "=",
                  "<=",
                  ">="
                ],
                "default": "="
              },
              "number": {
                "type": "number",
                "title": "Number"
              }
            }
          },
          "pt_cut": {
            "title": "pT Cuts",
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "sign": {
                  "type": "string",
                  "title": "<, >, =",
                  "enum": [
                    ">",
                    "=",
                    "<"
                  ],
                  "default": ">"
                },
                "number": {
                  "type": "number",
                  "title": "GeV"
                }
              }
            }
          },
          "era_cut": {
            "title": "|Î·| Cuts",
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "sign": {
                  "type": "string",
                  "title": "<, >, =",
                  "enum": [
                    ">",
                    "=",
                    "<"
                  ],
                  "default": ">"
                },
                "number": {
                  "type": "number",
                  "title": "GeV"
                }
              }
            }
          }
        }
      }
    },
    "veto": {
      "title": "Vetos",
      "description": "Provide vetos",
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "particle": {
            "title": "Particle",
            "type": "string",
            "enum": ["electron", "muon", "bjet"]
          },
          "number": {
            "title": "Number",
            "type": "integer"
          },
          "pt_cut": {
            "title": "PT",
            "type": "string"
          },
          "era_cut": {
            "title": "ETA",
            "type": "string"
          }
        }
      }
    },
    "event_selection": {
      "title": "Event Filter",
      "type": "object",
      "properties": {
        "event_filter": {
          "title": "Event Filter",
          "type": "string",
          "enum": ["HCAL noise cleaning filter", "ECAL spike removal"]
        },
        "reference": {
          "title": "Reference",
          "type": "string"
        }
      }
    }
  }
}
