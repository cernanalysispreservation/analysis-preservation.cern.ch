{"workflows": {"RECAST Workflow": {"stages": [{"dependencies": {"dependency_type": "jsonpath_ready", "expressions": ["init"]}, "name": "download", "scheduler": {"step": {"process": {"cmd": "/resources/download.py {dataset} {outDir} {outList}", "process_type": "string-interpolated-cmd"}, "publisher": {"publisher_type": "frompar-pub", "outputmap": {"output": "outList"}}, "environment": {"imagetag": "latest", "image": "lukasheinrich/dilepton_download", "envscript": "/resources/downloadenv.sh", "environment_type": "docker-encapsulated", "env": {}, "resources": ["CVMFS", "GRIDProxy"]}}, "scheduler_type": "singlestep-stage", "parameters": {"outList": "{workdir}/files.list", "outDir": "{workdir}/grid_download", "dataset": {"output": "dataset", "stages": "init", "unwrap": true}}}}, {"dependencies": {"dependency_type": "jsonpath_ready", "expressions": ["download"]}, "name": "ntupling", "scheduler": {"step": {"process": {"cmd": "./DileptonAnalysis {blinded} {include_truth} {filter} {input_type} -maxsyst {maxsyst} -m {minintup} -f {filelist}", "process_type": "string-interpolated-cmd"}, "publisher": {"publisher_type": "frompar-pub", "outputmap": {"output": "minintup"}}, "environment": {"imagetag": "latest", "image": "lukasheinrich/dilepton_ntupling", "envscript": "/resources/ntuplingenv.sh", "environment_type": "docker-encapsulated", "env": {}, "resources": ["CVMFS"]}}, "scheduler_type": "singlestep-stage", "parameters": {"include_truth": "-truth", "maxsyst": 1, "input_type": "-mc", "filelist": {"output": "output", "stages": "download", "unwrap": true}, "filter": "-nomllalpgenfilter", "minintup": "{workdir}/mini.root", "blinded": "-unblind"}}}, {"dependencies": {"dependency_type": "jsonpath_ready", "expressions": ["ntupling"]}, "name": "histfitprepare", "scheduler": {"step": {"process": {"cmd": "python preparehistfit.py {miniroot} {efficiency_file} {xsections_file} {modelName} {histfittree_file} {yield_file}", "process_type": "string-interpolated-cmd"}, "publisher": {"publisher_type": "frompar-pub", "outputmap": {"output_tree": "histfittree_file", "output_yield": "yield_file"}}, "environment": {"imagetag": "latest", "image": "lukasheinrich/dilepton_histfitprep", "envscript": "/resources/prepareenv.sh", "environment_type": "docker-encapsulated", "env": {}, "resources": ["CVMFS"]}}, "scheduler_type": "singlestep-stage", "parameters": {"xsections_file": {"output": "xsections_file", "stages": "init", "unwrap": true}, "miniroot": {"output": "output", "stages": "ntupling", "unwrap": true}, "efficiency_file": {"output": "efficiency_file", "stages": "init", "unwrap": true}, "histfittree_file": "{workdir}/out.root", "modelName": {"output": "modelName", "stages": "init", "unwrap": true}, "yield_file": "{workdir}/out.yield"}}}, {"dependencies": {"dependency_type": "jsonpath_ready", "expressions": ["histfitprepare"]}, "name": "fit", "scheduler": {"step": {"process": {"cmd": "./luke_run_limit.sh {histfitroot} {fitresults}", "process_type": "string-interpolated-cmd"}, "publisher": {"publisher_type": "frompar-pub", "outputmap": {"output": "fitresults"}}, "environment": {"imagetag": "latest", "image": "lukasheinrich/dilepton_fit", "envscript": "/resources/fitenv.sh", "environment_type": "docker-encapsulated", "env": {}, "resources": ["CVMFS"]}}, "scheduler_type": "singlestep-stage", "parameters": {"histfitroot": {"output": "output_tree", "stages": "histfitprepare", "unwrap": true}, "fitresults": "{workdir}/fit.tgz"}}}, {"dependencies": {"dependency_type": "jsonpath_ready", "expressions": ["fit"]}, "name": "postproc", "scheduler": {"step": {"process": {"cmd": "/resources/pMSSM-TwoLep-Fit/post_fit.sh {fitresultsarchive} {workdir} {modelName} {resultsyaml}", "process_type": "string-interpolated-cmd"}, "publisher": {"publisher_type": "frompar-pub", "outputmap": {"output": "resultsyaml"}}, "environment": {"imagetag": "latest", "image": "lukasheinrich/dilepton_fit", "envscript": "/resources/fitenv.sh", "environment_type": "docker-encapsulated", "env": {}, "resources": ["CVMFS"]}}, "scheduler_type": "singlestep-stage", "parameters": {"fitresultsarchive": {"output": "output", "stages": "fit", "unwrap": true}, "workdir": "{workdir}/postproc", "resultsyaml": "{workdir}/results.yaml", "modelName": {"output": "modelName", "stages": "init", "unwrap": true}}}}]}}, "basic_info": {"title": "DemoAnalysis"}}