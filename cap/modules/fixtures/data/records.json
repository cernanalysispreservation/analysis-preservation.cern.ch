[{
  "collection": "ATLASWorkflows",
  "metadata": {
    "workflows": [
      {
        "name": "RECAST",
        "workflow": {
          "stages": [
            {
              "dependencies": {
                "dependency_type": "jsonpath_ready",
                "expressions": [
                  "init"
                ]
              },
              "name": "download",
              "scheduler": {
                "step": {
                  "process": {
                    "cmd": "/resources/download.py {dataset} {outDir} {outList}",
                    "process_type": "string-interpolated-cmd"
                  },
                  "publisher": {
                    "publisher_type": "frompar-pub",
                    "outputmap": {
                      "output": "outList"
                    }
                  },
                  "environment": {
                    "imagetag": "latest",
                    "image": "lukasheinrich/dilepton_download",
                    "envscript": "/resources/downloadenv.sh",
                    "environment_type": "docker-encapsulated",
                    "env": {},
                    "resources": [
                      "CVMFS",
                      "GRIDProxy"
                    ]
                  }
                },
                "scheduler_type": "singlestep-stage",
                "parameters": [
                  {
                    "value": "{workdir}/files.list",
                    "key": "outList"
                  },
                  {
                    "value": "{workdir}/grid_download",
                    "key": "outDir"
                  },
                  {
                    "value": {
                      "output": "dataset",
                      "stages": "init",
                      "unwrap": true
                    },
                    "key": "dataset"
                  }
                ]
              }
            },
            {
              "dependencies": {
                "dependency_type": "jsonpath_ready",
                "expressions": [
                  "download"
                ]
              },
              "name": "ntupling",
              "scheduler": {
                "step": {
                  "process": {
                    "cmd": "./DileptonAnalysis {blinded} {include_truth} {filter} {input_type} -maxsyst {maxsyst} -m {minintup} -f {filelist}",
                    "process_type": "string-interpolated-cmd"
                  },
                  "publisher": {
                    "publisher_type": "frompar-pub",
                    "outputmap": {
                      "output": "minintup"
                    }
                  },
                  "environment": {
                    "imagetag": "latest",
                    "image": "lukasheinrich/dilepton_ntupling",
                    "envscript": "/resources/ntuplingenv.sh",
                    "environment_type": "docker-encapsulated",
                    "env": {},
                    "resources": [
                      "CVMFS"
                    ]
                  }
                },
                "scheduler_type": "singlestep-stage",
                "parameters": [
                  {
                    "value": "-truth",
                    "key": "include_truth"
                  },
                  {
                    "value": 1,
                    "key": "maxsyst"
                  },
                  {
                    "value": "-mc",
                    "key": "input_type"
                  },
                  {
                    "value": {
                      "output": "output",
                      "stages": "download",
                      "unwrap": true
                    },
                    "key": "filelist"
                  },
                  {
                    "value": "-nomllalpgenfilter",
                    "key": "filter"
                  },
                  {
                    "value": "{workdir}/mini.root",
                    "key": "minintup"
                  },
                  {
                    "value": "-unblind",
                    "key": "blinded"
                  }
                ]
              }
            },
            {
              "dependencies": {
                "dependency_type": "jsonpath_ready",
                "expressions": [
                  "ntupling"
                ]
              },
              "name": "histfitprepare",
              "scheduler": {
                "step": {
                  "process": {
                    "cmd": "python preparehistfit.py {miniroot} {efficiency_file} {xsections_file} {modelName} {histfittree_file} {yield_file}",
                    "process_type": "string-interpolated-cmd"
                  },
                  "publisher": {
                    "publisher_type": "frompar-pub",
                    "outputmap": {
                      "output_tree": "histfittree_file",
                      "output_yield": "yield_file"
                    }
                  },
                  "environment": {
                    "imagetag": "latest",
                    "image": "lukasheinrich/dilepton_histfitprep",
                    "envscript": "/resources/prepareenv.sh",
                    "environment_type": "docker-encapsulated",
                    "env": {},
                    "resources": [
                      "CVMFS"
                    ]
                  }
                },
                "scheduler_type": "singlestep-stage",
                "parameters": [
                  {
                    "value": {
                      "output": "xsections_file",
                      "stages": "init",
                      "unwrap": true
                    },
                    "key": "xsections_file"
                  },
                  {
                    "value": {
                      "output": "output",
                      "stages": "ntupling",
                      "unwrap": true
                    },
                    "key": "miniroot"
                  },
                  {
                    "value": {
                      "output": "efficiency_file",
                      "stages": "init",
                      "unwrap": true
                    },
                    "key": "efficiency_file"
                  },
                  {
                    "value": "{workdir}/out.root",
                    "key": "histfittree_file"
                  },
                  {
                    "value": {
                      "output": "modelName",
                      "stages": "init",
                      "unwrap": true
                    },
                    "key": "modelName"
                  },
                  {
                    "value": "{workdir}/out.yield",
                    "key": "yield_file"
                  }
                ]
              }
            },
            {
              "dependencies": {
                "dependency_type": "jsonpath_ready",
                "expressions": [
                  "histfitprepare"
                ]
              },
              "name": "fit",
              "scheduler": {
                "step": {
                  "process": {
                    "cmd": "./luke_run_limit.sh {histfitroot} {fitresults}",
                    "process_type": "string-interpolated-cmd"
                  },
                  "publisher": {
                    "publisher_type": "frompar-pub",
                    "outputmap": {
                      "output": "fitresults"
                    }
                  },
                  "environment": {
                    "imagetag": "latest",
                    "image": "lukasheinrich/dilepton_fit",
                    "envscript": "/resources/fitenv.sh",
                    "environment_type": "docker-encapsulated",
                    "env": {},
                    "resources": [
                      "CVMFS"
                    ]
                  }
                },
                "scheduler_type": "singlestep-stage",
                "parameters": [
                  {
                    "value": {
                      "output": "output_tree",
                      "stages": "histfitprepare",
                      "unwrap": true
                    },
                    "key": "histfitroot"
                  },
                  {
                    "value": "{workdir}/fit.tgz",
                    "key": "fitresults"
                  }
                ]
              }
            },
            {
              "dependencies": {
                "dependency_type": "jsonpath_ready",
                "expressions": [
                  "fit"
                ]
              },
              "name": "postproc",
              "scheduler": {
                "step": {
                  "process": {
                    "cmd": "/resources/pMSSM-TwoLep-Fit/post_fit.sh {fitresultsarchive} {workdir} {modelName} {resultsyaml}",
                    "process_type": "string-interpolated-cmd"
                  },
                  "publisher": {
                    "publisher_type": "frompar-pub",
                    "outputmap": {
                      "output": "resultsyaml"
                    }
                  },
                  "environment": {
                    "imagetag": "latest",
                    "image": "lukasheinrich/dilepton_fit",
                    "envscript": "/resources/fitenv.sh",
                    "environment_type": "docker-encapsulated",
                    "env": {},
                    "resources": [
                      "CVMFS"
                    ]
                  }
                },
                "scheduler_type": "singlestep-stage",
                "parameters": [
                  {
                    "value": {
                      "output": "output",
                      "stages": "fit",
                      "unwrap": true
                    },
                    "key": "fitresultsarchive"
                  },
                  {
                    "value": "{workdir}/postproc",
                    "key": "workdir"
                  },
                  {
                    "value": "{workdir}/results.yaml",
                    "key": "resultsyaml"
                  },
                  {
                    "value": {
                      "output": "modelName",
                      "stages": "init",
                      "unwrap": true
                    },
                    "key": "modelName"
                  }
                ]
              }
            }
          ]
        }
      }
    ],
    "basic_info": {
      "title": "Run1EwkTwoLepton"
    }
  },
  "schema": "https://localhost:5000/records/jsonschemas/ATLASWorkflows/"
},{
  "collection": "ATLASWorkflows",
  "metadata":  {
    "basic_info": {
      "title": "This is a comlpex ATLAS Workflow example (VIS DEMO)"
    },
    "workflows": [{
      "stages": [{
        "dependencies": [],
        "scheduler": {
          "step": {
            "process": {
              "cmd": "./ntupling.sh {inputtype} {input} {output}",
              "process_type": "string-interpolated-cmd"
            },
            "publisher": {
              "publisher_type": "frompar-pub",
              "outputmap": {
                "ntuple": "output"
              }
            },
            "environment": {
              "imagetag": "latest",
              "image": "lukasheinrich/workflow-dummy",
              "envscript": "",
              "environment_type": "docker-encapsulated",
              "env": {},
              "resources": []
            }
          },
          "scheduler_type": "single-from-ctx"
        },
        "name": "preparedata",
        "parameters": {
          "input": "{dataset_data}",
          "inputtype": "data",
          "output": "{dataset_data}.ntup.root"
        }
      }, {
        "dependencies": [],
        "scheduler": {
          "step": {
            "process": {
              "cmd": "./ntupling.sh {inputtype} {input} {output}",
              "process_type": "string-interpolated-cmd"
            },
            "publisher": {
              "publisher_type": "frompar-pub",
              "outputmap": {
                "ntuple": "output"
              }
            },
            "environment": {
              "imagetag": "latest",
              "image": "lukasheinrich/workflow-dummy",
              "envscript": "",
              "environment_type": "docker-encapsulated",
              "env": {},
              "resources": []
            }
          },
          "scheduler_type": "single-from-ctx"
        },
        "name": "mcback1",
        "parameters": {
          "input": "{dataset_mcback_one}",
          "inputtype": "mc",
          "output": "/workdir/{dataset_mcback_one}.ntup.root"
        }
      }, {
        "dependencies": [],
        "scheduler": {
          "step": {
            "process": {
              "cmd": "./ntupling.sh {inputtype} {input} {output}",
              "process_type": "string-interpolated-cmd"
            },
            "publisher": {
              "publisher_type": "frompar-pub",
              "outputmap": {
                "ntuple": "output"
              }
            },
            "environment": {
              "imagetag": "latest",
              "image": "lukasheinrich/workflow-dummy",
              "envscript": "",
              "environment_type": "docker-encapsulated",
              "env": {},
              "resources": []
            }
          },
          "scheduler_type": "single-from-ctx"
        },
        "name": "mcback2",
        "parameters": {
          "input": "{dataset_mcback_one}",
          "inputtype": "mc",
          "output": "/workdir/{dataset_mcback_one}.ntup.root"
        }
      }, {
        "dependencies": [],
        "scheduler": {
          "step": {
            "process": {
              "cmd": "./getsignal.sh {par_one} {par_two} {output}",
              "process_type": "string-interpolated-cmd"
            },
            "publisher": {
              "publisher_type": "frompar-pub",
              "outputmap": {
                "signal_sample": "output"
              }
            },
            "environment": {
              "imagetag": "latest",
              "image": "lukasheinrich/workflow-dummy",
              "envscript": "",
              "environment_type": "docker-encapsulated",
              "env": {},
              "resources": []
            }
          },
          "scheduler_type": "single-from-ctx"
        },
        "name": "acquire_signal",
        "parameters": {
          "output": "/workdir/signal.input.root",
          "par_two": "{signal_par_two}",
          "par_one": "{signal_par_one}"
        }
      }, {
        "dependencies": [
          "acquire_signal"
        ],
        "scheduler": {
          "outputs": "signal_sample",
          "to_input": "input",
          "scheduler_type": "reduce-from-dep",
          "step": {
            "process": {
              "cmd": "./ntupling.sh {inputtype} {input} {output}",
              "process_type": "string-interpolated-cmd"
            },
            "publisher": {
              "publisher_type": "frompar-pub",
              "outputmap": {
                "ntuple": "output"
              }
            },
            "environment": {
              "imagetag": "latest",
              "image": "lukasheinrich/workflow-dummy",
              "envscript": "",
              "environment_type": "docker-encapsulated",
              "env": {},
              "resources": []
            }
          },
          "from_stages": [
            "acquire_signal"
          ]
        },
        "name": "mcsignal",
        "parameters": {
          "output": "/workdir/signal.ntup.root",
          "inputtype": "mc"
        }
      }, {
        "dependencies": [
          "mcsignal"
        ],
        "scheduler": {
          "outputs": "ntuple",
          "to_input": "input",
          "scheduler_type": "reduce-from-dep",
          "step": {
            "process": {
              "cmd": "./makehistos_mc.sh {input} {output}",
              "process_type": "string-interpolated-cmd"
            },
            "publisher": {
              "publisher_type": "frompar-pub",
              "outputmap": {
                "mchistos": "output"
              }
            },
            "environment": {
              "imagetag": "latest",
              "image": "lukasheinrich/workflow-dummy",
              "envscript": "",
              "environment_type": "docker-encapsulated",
              "env": {},
              "resources": []
            }
          },
          "from_stages": [
            "mcsignal"
          ]
        },
        "name": "hist_mcsignal",
        "parameters": {
          "output": "/workdir/signal.histos.root"
        }
      }, {
        "dependencies": [
          "mcback1"
        ],
        "scheduler": {
          "outputs": "ntuple",
          "to_input": "input",
          "scheduler_type": "reduce-from-dep",
          "step": {
            "process": {
              "cmd": "./makehistos_mc.sh {input} {output}",
              "process_type": "string-interpolated-cmd"
            },
            "publisher": {
              "publisher_type": "frompar-pub",
              "outputmap": {
                "mchistos": "output"
              }
            },
            "environment": {
              "imagetag": "latest",
              "image": "lukasheinrich/workflow-dummy",
              "envscript": "",
              "environment_type": "docker-encapsulated",
              "env": {},
              "resources": []
            }
          },
          "from_stages": [
            "mcback1"
          ]
        },
        "name": "hist_mc1",
        "parameters": {
          "output": "/workdir/back1.histos.root"
        }
      }, {
        "dependencies": [
          "mcback2"
        ],
        "scheduler": {
          "outputs": "ntuple",
          "to_input": "input",
          "scheduler_type": "reduce-from-dep",
          "step": {
            "process": {
              "cmd": "./makehistos_mc.sh {input} {output}",
              "process_type": "string-interpolated-cmd"
            },
            "publisher": {
              "publisher_type": "frompar-pub",
              "outputmap": {
                "mchistos": "output"
              }
            },
            "environment": {
              "imagetag": "latest",
              "image": "lukasheinrich/workflow-dummy",
              "envscript": "",
              "environment_type": "docker-encapsulated",
              "env": {},
              "resources": []
            }
          },
          "from_stages": [
            "mcback2"
          ]
        },
        "name": "hist_mc2",
        "parameters": {
          "output": "/workdir/back2.histos.root"
        }
      }, {
        "dependencies": [
          "preparedata"
        ],
        "scheduler": {
          "outputs": "ntuple",
          "to_input": "input",
          "scheduler_type": "reduce-from-dep",
          "step": {
            "process": {
              "cmd": "./makehistos_data.sh {input} {output}",
              "process_type": "string-interpolated-cmd"
            },
            "publisher": {
              "publisher_type": "frompar-pub",
              "outputmap": {
                "datahistos": "output"
              }
            },
            "environment": {
              "imagetag": "latest",
              "image": "lukasheinrich/workflow-dummy",
              "envscript": "",
              "environment_type": "docker-encapsulated",
              "env": {},
              "resources": []
            }
          },
          "from_stages": [
            "preparedata"
          ]
        },
        "name": "hist_data",
        "parameters": {
          "output": "/workdir/data.histos.root"
        }
      }, {
        "dependencies": [
          "preparedata"
        ],
        "scheduler": {
          "outputs": "ntuple",
          "to_input": "input",
          "scheduler_type": "reduce-from-dep",
          "step": {
            "process": {
              "cmd": "./makehistos_datadriven.sh {tight_cut} {input} {output_loose} {output_tight}",
              "process_type": "string-interpolated-cmd"
            },
            "publisher": {
              "publisher_type": "frompar-pub",
              "outputmap": {
                "tight": "output_tight",
                "loose": "output_loose"
              }
            },
            "environment": {
              "imagetag": "latest",
              "image": "lukasheinrich/workflow-dummy",
              "envscript": "",
              "environment_type": "docker-encapsulated",
              "env": {},
              "resources": []
            }
          },
          "from_stages": [
            "preparedata"
          ]
        },
        "name": "data_driven_back_hists",
        "parameters": {
          "tight_cut": "{data_driven_cut}",
          "output_tight": "/workdir/data.histos.root:/tight_hist",
          "output_loose": "/workdir/data.histos.root:/hist_loose"
        }
      }, {
        "dependencies": [
          "data_driven_back_hists"
        ],
        "scheduler": {
          "step": {
            "process": {
              "cmd": "./estimate.sh {tighthisto} {loosehisto} {estimate_output}",
              "process_type": "string-interpolated-cmd"
            },
            "publisher": {
              "publisher_type": "frompar-pub",
              "outputmap": {
                "estimate": "estimate_output"
              }
            },
            "environment": {
              "imagetag": "latest",
              "image": "lukasheinrich/workflow-dummy",
              "envscript": "",
              "environment_type": "docker-encapsulated",
              "env": {},
              "resources": []
            }
          },
          "scheduler_type": "zip-from-dep",
          "zip": [{
            "zip_with": [
              "tighthisto"
            ],
            "outputs": "tight",
            "from_stages": [
              "data_driven_back_hists"
            ]
          }, {
            "zip_with": [
              "loosehisto"
            ],
            "outputs": "loose",
            "from_stages": [
              "data_driven_back_hists"
            ]
          }]
        },
        "name": "hist_estimate",
        "parameters": {
          "estimate_output": "/workdir/estimate.hist.root"
        }
      }, {
        "dependencies": [
          "hist_estimate",
          "hist_data",
          "hist_mc1",
          "hist_mc2",
          "hist_mcsignal"
        ],
        "scheduler": {
          "step": {
            "process": {
              "cmd": "./runfit.sh {data} {signal} {back1} {back2} {back3} {fitresults} {workspace}",
              "process_type": "string-interpolated-cmd"
            },
            "publisher": {
              "publisher_type": "frompar-pub",
              "outputmap": {
                "results": "fitresults",
                "workspace": "workspace"
              }
            },
            "environment": {
              "imagetag": "latest",
              "image": "lukasheinrich/workflow-dummy",
              "envscript": "",
              "environment_type": "docker-encapsulated",
              "env": {},
              "resources": []
            }
          },
          "scheduler_type": "zip-from-dep",
          "zip": [{
            "zip_with": [
              "back1",
              "back2",
              "back3"
            ],
            "outputs": "estimate|mchistos",
            "from_stages": [
              "hist_mc1",
              "hist_mc2",
              "hist_estimate"
            ]
          }, {
            "zip_with": [
              "signal"
            ],
            "outputs": "mchistos",
            "from_stages": [
              "hist_mcsignal"
            ]
          }, {
            "zip_with": [
              "data"
            ],
            "outputs": "datahistos",
            "from_stages": [
              "hist_data"
            ]
          }]
        },
        "name": "fit",
        "parameters": {
          "workspace": "/workdir/fit.workspace.root",
          "fitresults": "/workdir/fitresults.yaml"
        }
      }, {
        "dependencies": [
          "hist_estimate",
          "hist_data",
          "hist_mc1",
          "hist_mc2",
          "hist_mcsignal"
        ],
        "scheduler": {
          "step": {
            "process": {
              "cmd": "./runplots.sh {data} {signal} {back1} {back2} {back3} {plotdir}",
              "process_type": "string-interpolated-cmd"
            },
            "publisher": {
              "publisher_type": "frompar-pub",
              "outputmap": {
                "plots": "plotdir"
              }
            },
            "environment": {
              "imagetag": "latest",
              "image": "lukasheinrich/workflow-dummy",
              "envscript": "",
              "environment_type": "docker-encapsulated",
              "env": {},
              "resources": []
            }
          },
          "scheduler_type": "zip-from-dep",
          "zip": [{
            "zip_with": [
              "back1",
              "back2",
              "back3"
            ],
            "outputs": "estimate|mchistos",
            "from_stages": [
              "hist_mc1",
              "hist_mc2",
              "hist_estimate"
            ]
          }, {
            "zip_with": [
              "signal"
            ],
            "outputs": "mchistos",
            "from_stages": [
              "hist_mcsignal"
            ]
          }, {
            "zip_with": [
              "data"
            ],
            "outputs": "datahistos",
            "from_stages": [
              "hist_data"
            ]
          }]
        },
        "name": "plots",
        "parameters": {
          "plotdir": "/workdir/plots"
        }
      }],
      "context": {
        "signal_par_two": null,
        "dataset_data": null,
        "data_driven_cut": null,
        "dataset_mcback_one": null,
        "dataset_mcback_two": null,
        "signal_par_one": null
      }
    }]
  },
  "schema": {}
},{
  "collection": "ATLASWorkflows",
  "metadata": {
    "basic_info": {
      "title": "This is a simple ATLAS Workflow example (VIS DEMO)"
    },
    "workflows": [{
      "stages": [{
        "scheduler": {
          "step": {
            "process": {
              "cmd": "/resources/download.py {dataset} {outDir} {outList}",
              "process-type": "string-interpolated-cmd"
            },
            "publisher": {
              "outputmap": {
                "output": "outList"
              },
              "publisher-type": "process-attr-pub"
            },
            "environment": {
              "envscript": "/resources/downloadenv.sh",
              "image": "lukasheinrich/dilepton_download",
              "environment-type": "docker-encapsulated",
              "resources": [
                "CVMFS",
                "GRIDProxy"
              ]
            }
          },
          "scheduler-type": "singlestep-from-context"
        },
        "name": "download",
        "parameters": {
          "outList": "/workdir/files.list",
          "outDir": "/workdir/grid_download",
          "dataset": "{dataset}"
        }
      }, {
        "dependencies": [
          "download"
        ],
        "scheduler": {
          "outputs": "output",
          "to_input": "filelist",
          "step": {
            "process": {
              "cmd": "./DileptonAnalysis {blinded} {include_truth} {filter} {input_type} -maxsyst {maxsyst} -m {minintup} -f {filelist}",
              "process-type": "string-interpolated-cmd"
            },
            "publisher": {
              "outputmap": {
                "output": "minintup"
              },
              "publisher-type": "process-attr-pub"
            },
            "environment": {
              "envscript": "/resources/ntuplingenv.sh",
              "image": "lukasheinrich/dilepton_ntupling",
              "environment-type": "docker-encapsulated",
              "resources": [
                "CVMFS"
              ]
            }
          },
          "from_stages": [
            "download"
          ],
          "scheduler-type": "reduce-from-dep-output"
        },
        "name": "ntupling",
        "parameters": {
          "include_truth": "-truth",
          "maxsyst": 1,
          "input_type": "-mc",
          "filter": "-nomllalpgenfilter",
          "minintup": "/workdir/mini.root",
          "blinded": "-unblind"
        }
      }, {
        "dependencies": [
          "ntupling"
        ],
        "scheduler": {
          "outputs": "output",
          "to_input": "miniroot",
          "step": {
            "process": {
              "cmd": "python preparehistfit.py {miniroot} {efficiency_file} {xsections_file} {modelName} {histfittree_file} {yield_file}",
              "process-type": "string-interpolated-cmd"
            },
            "publisher": {
              "outputmap": {
                "output_tree": "histfittree_file",
                "output_yield": "yield_file"
              },
              "publisher-type": "process-attr-pub"
            },
            "environment": {
              "envscript": "/resources/prepareenv.sh",
              "image": "lukasheinrich/dilepton_histfitprep",
              "environment-type": "docker-encapsulated",
              "resources": [
                "CVMFS"
              ]
            }
          },
          "from_stages": [
            "ntupling"
          ],
          "scheduler-type": "reduce-from-dep-output"
        },
        "name": "histfitprepare",
        "parameters": {
          "histfittree_file": "/workdir/out.root",
          "efficiency_file": "{efficiency_file}",
          "xsections_file": "{xsections_file}",
          "modelName": "{modelName}",
          "yield_file": "/workdir/out.yield"
        }
      }, {
        "dependencies": [
          "histfitprepare"
        ],
        "scheduler": {
          "outputs": "output_tree",
          "to_input": "histfitroot",
          "step": {
            "process": {
              "cmd": "./luke_run_limit.sh {histfitroot} {fitresults}",
              "process-type": "string-interpolated-cmd"
            },
            "publisher": {
              "outputmap": {
                "output": "fitresults"
              },
              "publisher-type": "process-attr-pub"
            },
            "environment": {
              "envscript": "/resources/fitenv.sh",
              "image": "lukasheinrich/dilepton_fit",
              "environment-type": "docker-encapsulated",
              "resources": [
                "CVMFS"
              ]
            }
          },
          "from_stages": [
            "histfitprepare"
          ],
          "scheduler-type": "reduce-from-dep-output"
        },
        "name": "fit",
        "parameters": {
          "fitresults": "/workdir/fit.tgz"
        }
      }, {
        "dependencies": [
          "fit"
        ],
        "scheduler": {
          "outputs": "output",
          "to_input": "fitresultsarchive",
          "step": {
            "process": {
              "cmd": "/resources/pMSSM-TwoLep-Fit/post_fit.sh {fitresultsarchive} {workdir} {modelName} {resultsyaml}",
              "process-type": "string-interpolated-cmd"
            },
            "publisher": {
              "outputmap": {
                "output": "resultsyaml"
              },
              "publisher-type": "process-attr-pub"
            },
            "environment": {
              "envscript": "/resources/fitenv.sh",
              "image": "lukasheinrich/dilepton_fit",
              "environment-type": "docker-encapsulated",
              "resources": [
                "CVMFS"
              ]
            }
          },
          "from_stages": [
            "fit"
          ],
          "scheduler-type": "reduce-from-dep-output"
        },
        "name": "postproc",
        "parameters": {
          "workdir": "/workdir/postproc",
          "resultsyaml": "/workdir/results.yaml",
          "modelName": "{modelName}"
        }
      }],
      "context": {
        "efficiency_file": null,
        "xsections_file": null,
        "modelName": null,
        "dataset": null
      }
    }]
  },
  "schema": {}
},
{
  "collection": "ATLASWorkflows",
  "metadata": {
    "workflows": [
      {
        "name": "HiggsMCProd",
        "workflow": {
          "stages": [
            {
              "dependencies": {
                "dependency_type": "jsonpath_ready",
                "expressions": [
                  "init"
                ]
              },
              "name": "prepare",
              "scheduler": {
                "step": {
                  "process": {
                    "cmd": "./paramfromtemplate.py inputs/template_paramcard.dat {param_card}  -i \"{{kHzz: {kHzz}, kAzz: {kAzz}, kHww: {kHww}, kAww: {kAww}}}\"",
                    "process_type": "string-interpolated-cmd"
                  },
                  "publisher": {
                    "publisher_type": "frompar-pub",
                    "outputmap": {
                      "param_card": "param_card"
                    }
                  },
                  "environment": {
                    "imagetag": "latest",
                    "image": "lukasheinrich/higgs-mc-studies",
                    "envscript": "",
                    "environment_type": "docker-encapsulated",
                    "env": {},
                    "resources": []
                  }
                },
                "scheduler_type": "singlestep-stage",
                "parameters": [
                  {
                    "value": {
                      "output": "kAzz",
                      "stages": "init"
                    },
                    "key": "kAzz"
                  },
                  {
                    "value": "{workdir}/param.dat",
                    "key": "param_card"
                  },
                  {
                    "value": {
                      "output": "kHzz",
                      "stages": "init"
                    },
                    "key": "kHzz"
                  },
                  {
                    "value": {
                      "output": "kAww",
                      "stages": "init"
                    },
                    "key": "kAww"
                  },
                  {
                    "value": {
                      "output": "kHww",
                      "stages": "init"
                    },
                    "key": "kHww"
                  }
                ]
              }
            },
            {
              "dependencies": {
                "dependency_type": "jsonpath_ready",
                "expressions": [
                  "prepare"
                ]
              },
              "name": "grid",
              "scheduler": {
                "step": {
                  "process": {
                    "cmd": "./scripts/setupgrid.sh {param_card} {gridpack}",
                    "process_type": "string-interpolated-cmd"
                  },
                  "publisher": {
                    "publisher_type": "frompar-pub",
                    "outputmap": {
                      "gridpack": "gridpack"
                    }
                  },
                  "environment": {
                    "imagetag": "latest",
                    "image": "lukasheinrich/higgs-mc-studies",
                    "envscript": "",
                    "environment_type": "docker-encapsulated",
                    "env": {},
                    "resources": []
                  }
                },
                "scheduler_type": "singlestep-stage",
                "parameters": [
                  {
                    "value": {
                      "output": "param_card",
                      "stages": "prepare"
                    },
                    "key": "param_card"
                  },
                  {
                    "value": "{workdir}/grid.tar.gz",
                    "key": "gridpack"
                  }
                ]
              }
            },
            {
              "dependencies": {
                "dependency_type": "jsonpath_ready",
                "expressions": [
                  "grid"
                ]
              },
              "name": "subchain",
              "scheduler": {
                "scheduler_type": "multistep-stage",
                "scatter": {
                  "method": "zip",
                  "parameters": [
                    "seed"
                  ]
                },
                "parameters": [
                  {
                    "value": {
                      "output": "nevents",
                      "stages": "init",
                      "unwrap": true
                    },
                    "key": "nevents"
                  },
                  {
                    "value": {
                      "output": "gridpack",
                      "stages": "grid",
                      "unwrap": true
                    },
                    "key": "gridpack"
                  },
                  {
                    "value": {
                      "output": "seeds",
                      "stages": "init",
                      "flatten": true
                    },
                    "key": "seed"
                  }
                ],
                "workflow": {
                  "stages": [
                    {
                      "dependencies": {
                        "dependency_type": "jsonpath_ready",
                        "expressions": [
                          "init"
                        ]
                      },
                      "name": "madevent",
                      "scheduler": {
                        "step": {
                          "process": {
                            "cmd": "./scripts/rungrid.sh {gridpack} {nevents} {seed} {lhefile}",
                            "process_type": "string-interpolated-cmd"
                          },
                          "publisher": {
                            "publisher_type": "frompar-pub",
                            "outputmap": {
                              "lhefile": "lhefile"
                            }
                          },
                          "environment": {
                            "imagetag": "latest",
                            "image": "lukasheinrich/higgs-mc-studies",
                            "envscript": "",
                            "environment_type": "docker-encapsulated",
                            "env": {},
                            "resources": []
                          }
                        },
                        "scheduler_type": "singlestep-stage",
                        "parameters": [
                          {
                            "value": "{workdir}/lhefile.lhe",
                            "key": "lhefile"
                          },
                          {
                            "value": {
                              "output": "nevents",
                              "stages": "init"
                            },
                            "key": "nevents"
                          },
                          {
                            "value": {
                              "output": "gridpack",
                              "stages": "init"
                            },
                            "key": "gridpack"
                          },
                          {
                            "value": {
                              "output": "seed",
                              "stages": "init"
                            },
                            "key": "seed"
                          }
                        ]
                      }
                    },
                    {
                      "dependencies": {
                        "dependency_type": "jsonpath_ready",
                        "expressions": [
                          "madevent"
                        ]
                      },
                      "name": "pythia",
                      "scheduler": {
                        "step": {
                          "process": {
                            "cmd": "/analysis/pythia_main/example_main {settings_file} {hepmcfile} {lhefile}",
                            "process_type": "string-interpolated-cmd"
                          },
                          "publisher": {
                            "publisher_type": "frompar-pub",
                            "outputmap": {
                              "hepmcfile": "hepmcfile"
                            }
                          },
                          "environment": {
                            "imagetag": "latest",
                            "image": "lukasheinrich/higgs-mc-studies",
                            "envscript": "",
                            "environment_type": "docker-encapsulated",
                            "env": {},
                            "resources": []
                          }
                        },
                        "scheduler_type": "singlestep-stage",
                        "parameters": [
                          {
                            "value": {
                              "output": "lhefile",
                              "stages": "madevent"
                            },
                            "key": "lhefile"
                          },
                          {
                            "value": "{workdir}/outputfile.hepmc",
                            "key": "hepmcfile"
                          },
                          {
                            "value": "/analysis/mainPythiaMLM.cmnd",
                            "key": "settings_file"
                          }
                        ]
                      }
                    },
                    {
                      "dependencies": {
                        "dependency_type": "jsonpath_ready",
                        "expressions": [
                          "pythia"
                        ]
                      },
                      "name": "delphes",
                      "scheduler": {
                        "step": {
                          "process": {
                            "cmd": "DelphesHepMC {detector_card} {outputfile} {inputfile}",
                            "process_type": "string-interpolated-cmd"
                          },
                          "publisher": {
                            "publisher_type": "frompar-pub",
                            "outputmap": {
                              "delphesoutput": "outputfile"
                            }
                          },
                          "environment": {
                            "imagetag": "latest",
                            "image": "lukasheinrich/higgs-mc-studies",
                            "envscript": "",
                            "environment_type": "docker-encapsulated",
                            "env": {},
                            "resources": []
                          }
                        },
                        "scheduler_type": "singlestep-stage",
                        "parameters": [
                          {
                            "value": "/analysis/template_cards/modified_delphes_card_ATLAS.tcl",
                            "key": "detector_card"
                          },
                          {
                            "value": "{workdir}/outputfile.root",
                            "key": "outputfile"
                          },
                          {
                            "value": {
                              "output": "hepmcfile",
                              "stages": "pythia"
                            },
                            "key": "inputfile"
                          }
                        ]
                      }
                    },
                    {
                      "dependencies": {
                        "dependency_type": "jsonpath_ready",
                        "expressions": [
                          "delphes"
                        ]
                      },
                      "name": "analysis",
                      "scheduler": {
                        "step": {
                          "process": {
                            "cmd": "./scripts/runpost.sh {fromdelphes} {analysis_output}",
                            "process_type": "string-interpolated-cmd"
                          },
                          "publisher": {
                            "publisher_type": "frompar-pub",
                            "outputmap": {
                              "analysis_output": "analysis_output"
                            }
                          },
                          "environment": {
                            "imagetag": "latest",
                            "image": "lukasheinrich/higgs-mc-studies",
                            "envscript": "",
                            "environment_type": "docker-encapsulated",
                            "env": {},
                            "resources": []
                          }
                        },
                        "scheduler_type": "singlestep-stage",
                        "parameters": [
                          {
                            "value": {
                              "output": "delphesoutput",
                              "stages": "delphes"
                            },
                            "key": "fromdelphes"
                          },
                          {
                            "value": "{workdir}/anaout.root",
                            "key": "analysis_output"
                          }
                        ]
                      }
                    }
                  ]
                }
              }
            },
            {
              "dependencies": {
                "dependency_type": "jsonpath_ready",
                "expressions": [
                  "subchain"
                ]
              },
              "name": "rootmerge",
              "scheduler": {
                "step": {
                  "process": {
                    "cmd": "hadd {mergedfile} {inputfiles}",
                    "process_type": "string-interpolated-cmd"
                  },
                  "publisher": {
                    "publisher_type": "frompar-pub",
                    "outputmap": {
                      "mergedfile": "mergedfile"
                    }
                  },
                  "environment": {
                    "imagetag": "latest",
                    "image": "lukasheinrich/higgs-mc-studies",
                    "envscript": "",
                    "environment_type": "docker-encapsulated",
                    "env": {},
                    "resources": []
                  }
                },
                "scheduler_type": "singlestep-stage",
                "parameters": [
                  {
                    "value": "{workdir}/anamerged.root",
                    "key": "mergedfile"
                  },
                  {
                    "value": {
                      "output": "analysis_output",
                      "stages": "subchain.[*].analysis"
                    },
                    "key": "inputfiles"
                  }
                ]
              }
            }
          ]
        }
      },
      {
        "name": "MadgraphDelphesAthena",
        "workflow": {
          "stages": [
            {
              "dependencies": {
                "dependency_type": "jsonpath_ready",
                "expressions": []
              },
              "name": "prepare",
              "scheduler": {
                "step": {
                  "process": {
                    "cmd": "./paramfromyaml.py --madgraph -f {inputpars} {model} {parametercard}",
                    "process_type": "string-interpolated-cmd"
                  },
                  "publisher": {
                    "publisher_type": "frompar-pub",
                    "outputmap": {
                      "parcard": "parametercard"
                    }
                  },
                  "environment": {
                    "imagetag": "latest",
                    "image": "lukasheinrich/recast_phenoexample",
                    "envscript": "",
                    "environment_type": "docker-encapsulated",
                    "env": {},
                    "resources": []
                  }
                },
                "scheduler_type": "singlestep-stage",
                "parameters": [
                  {
                    "value": "sm",
                    "key": "model"
                  },
                  {
                    "value": "defaultparam.yml",
                    "key": "inputpars"
                  },
                  {
                    "value": "{workdir}/param.dat",
                    "key": "parametercard"
                  }
                ]
              }
            },
            {
              "dependencies": {
                "dependency_type": "jsonpath_ready",
                "expressions": [
                  "prepare",
                  "init"
                ]
              },
              "name": "madgraph",
              "scheduler": {
                "step": {
                  "process": {
                    "cmd": "./steermadgraph.py proc.dat default_run.dat {paramcard} {outputlhe} -e {events}",
                    "process_type": "string-interpolated-cmd"
                  },
                  "publisher": {
                    "publisher_type": "frompar-pub",
                    "outputmap": {
                      "lhefile": "outputlhe"
                    }
                  },
                  "environment": {
                    "imagetag": "latest",
                    "image": "lukasheinrich/recast_phenoexample",
                    "envscript": "",
                    "environment_type": "docker-encapsulated",
                    "env": {},
                    "resources": []
                  }
                },
                "scheduler_type": "singlestep-stage",
                "parameters": [
                  {
                    "value": {
                      "output": "parcard",
                      "stages": "prepare",
                      "unwrap": true
                    },
                    "key": "paramcard"
                  },
                  {
                    "value": "{workdir}/output.lhe",
                    "key": "outputlhe"
                  },
                  {
                    "value": {
                      "output": "nevents",
                      "stages": "init",
                      "unwrap": true
                    },
                    "key": "events"
                  }
                ]
              }
            },
            {
              "dependencies": {
                "dependency_type": "jsonpath_ready",
                "expressions": [
                  "madgraph"
                ]
              },
              "name": "pythia",
              "scheduler": {
                "step": {
                  "process": {
                    "cmd": "./steerpythia.py {lhefile} {outputhepmc} -e {events}",
                    "process_type": "string-interpolated-cmd"
                  },
                  "publisher": {
                    "publisher_type": "frompar-pub",
                    "outputmap": {
                      "hepmcfile": "outputhepmc"
                    }
                  },
                  "environment": {
                    "imagetag": "latest",
                    "image": "lukasheinrich/recast_phenoexample",
                    "envscript": "",
                    "environment_type": "docker-encapsulated",
                    "env": {},
                    "resources": []
                  }
                },
                "scheduler_type": "singlestep-stage",
                "parameters": [
                  {
                    "value": {
                      "output": "lhefile",
                      "stages": "madgraph",
                      "unwrap": true
                    },
                    "key": "lhefile"
                  },
                  {
                    "value": "{workdir}/output.hepmc",
                    "key": "outputhepmc"
                  },
                  {
                    "value": {
                      "output": "nevents",
                      "stages": "init",
                      "unwrap": true
                    },
                    "key": "events"
                  }
                ]
              }
            },
            {
              "dependencies": {
                "dependency_type": "jsonpath_ready",
                "expressions": [
                  "pythia"
                ]
              },
              "name": "delphes",
              "scheduler": {
                "step": {
                  "process": {
                    "cmd": "DelphesHepMC  {delphes_card} {outputroot} {inputhepmc} && root2lhco {outputroot} {outputlhco}",
                    "process_type": "string-interpolated-cmd"
                  },
                  "publisher": {
                    "publisher_type": "frompar-pub",
                    "outputmap": {
                      "lhcofile": "outputlhco",
                      "rootfile": "outputroot"
                    }
                  },
                  "environment": {
                    "imagetag": "latest",
                    "image": "lukasheinrich/root-delphes",
                    "envscript": "",
                    "environment_type": "docker-encapsulated",
                    "env": {},
                    "resources": []
                  }
                },
                "scheduler_type": "singlestep-stage",
                "parameters": [
                  {
                    "value": "{workdir}/output.lhco",
                    "key": "outputlhco"
                  },
                  {
                    "value": "delphes/cards/delphes_card_ATLAS.tcl",
                    "key": "delphes_card"
                  },
                  {
                    "value": "{workdir}/output.root",
                    "key": "outputroot"
                  },
                  {
                    "value": {
                      "output": "hepmcfile",
                      "stages": "pythia"
                    },
                    "key": "inputhepmc"
                  }
                ]
              }
            },
            {
              "dependencies": {
                "dependency_type": "jsonpath_ready",
                "expressions": [
                  "pythia"
                ]
              },
              "name": "athena",
              "scheduler": {
                "step": {
                  "process": {
                    "cmd": "source /analysis/setup.sh && export INPUT={input} && export OUTPUT={output} && athena.py jo.py",
                    "process_type": "string-interpolated-cmd"
                  },
                  "publisher": {
                    "publisher_type": "frompar-pub",
                    "outputmap": {
                      "output": "output"
                    }
                  },
                  "environment": {
                    "imagetag": "latest",
                    "image": "lukasheinrich/quickathenahepmc",
                    "envscript": "",
                    "environment_type": "docker-encapsulated",
                    "env": {},
                    "resources": []
                  }
                },
                "scheduler_type": "singlestep-stage",
                "parameters": [
                  {
                    "value": {
                      "output": "hepmcfile",
                      "stages": "pythia",
                      "unwrap": true
                    },
                    "key": "input"
                  },
                  {
                    "value": "{workdir}/plot.png",
                    "key": "output"
                  }
                ]
              }
            }
          ]
        }
      }
    ],
    "basic_info": {
      "title": "TestAnalysis1"
    }
  },
  "schema": "https://localhost:5000/records/jsonschemas/ATLASWorkflows/"
},
 {
  "metadata": {
    "publications": [{
      "url": "https://cds.cern.ch/record/2051857",
      "reviewegroup": "\"lhcb-review-Charm-D2Kpimumu\"",
      "roles": "[object Object]"
    }, {
      "url": "https://cds.cern.ch/record/2059301",
      "reviewegroup": "\"lhcb-review-Charm-D2Kpimumu\"",
      "roles": "[object Object]"
    }],
    "analysis_steps": [{
      "input_data": {
        "mc_data": [],
        "data": []
      },
      "code": {
        "lhcb_code": [],
        "user_code": []
      },
      "output_data": {}
    }],
    "dst_selection": {
      "input_data": {
        "mc_data": [],
        "data": []
      },
      "code": {
        "lhcb_code": [],
        "user_code": []
      },
      "output_data": {}
    },
    "presentations": [],
    "basic_info": {
      "analysis_name": "BF of D0 -> Kpimumu",
      "analysis_number": "ANA-2014-060"
    },
    "internal_discussions": [{
      "url": "https://indico.cern.ch/event/257863/session/4/contribution/17/material/slides/0.pdf",
      "meeting": "Analysis and software week",
      "title": "Search for D0->hhmumu"
    }, {
      "url": "https://indico.cern.ch/event/201548/session/7/contribution/33/material/slides/0.pdf",
      "meeting": "Analysis and software week",
      "title": "Update on D-> hh(')mumu with 2012 data"
    }, {
      "url": "https://indico.cern.ch/event/311262/contribution/0/material/slides/0.pdf",
      "meeting": "Charm WG",
      "title": "WG review: BR of D0-> kpimumu in rho/omega region"
    }, {
      "url": "https://indico.cern.ch/event/311251/contribution/2/material/slides/0.pdf",
      "meeting": "Charm WG",
      "title": "WG review: D0->Kpimumu"
    }, {
      "url": "https://indico.cern.ch/event/402930/contribution/3/attachments/807263/1106369/RC_UNBLINDING_01072015.pdf",
      "meeting": "Charm WG",
      "title": "[RC report] D0->Kpimumu unblinded BR results"
    }, {
      "url": "https://indico.cern.ch/event/203965/contribution/3/material/slides/0.pdf",
      "meeting": "Charm WG",
      "title": "Update on D->hh'mumnu"
    }, {
      "url": "https://indico.cern.ch/event/291727/contribution/3/material/slides/0.pdf",
      "meeting": "Charm WG,VRD WG",
      "title": "D0 ->hh'mumu"
    }, {
      "url": "https://indico.cern.ch/event/246872/contribution/2/material/slides/0.pdf",
      "meeting": "Charm WG",
      "title": "Update on D-> hh(')mumu with 2012 data"
    }, {
      "url": "https://indico.cern.ch/event/311281/contribution/3/material/slides/0.pdf",
      "meeting": "Charm WG",
      "title": "Status of D0->Kpimumu"
    }, {
      "url": "https://indico.cern.ch/event/269060/contribution/6/material/slides/0.pdf",
      "meeting": "Charm WG",
      "title": "News on D->hhmumu"
    }],
    "documentations": [],
    "extra_info": {
      "status": "8 - journal review",
      "arxiv": "1510.08367",
      "egroup": "lhcb-review-Charm-D2Kpimumu",
      "twiki": "https://twiki.cern.ch/twiki/bin/viewauth/LHCbPhysics/D02KPiMUMU"
    }
  },
  "collection": "LHCbAnalysis",
  "schema": "https://localhost:5000/records/jsonschemas/LHCbAnalysis/"
}, {
  "metadata": {
    "publications": [{
      "url": "http://dx.doi.org/10.1007/JHEP03(2016)159",
      "reviewegroup": "lhcb-paper-2015-041-reviewers"
    }],
    "analysis_steps": [{
      "input_data": {
        "mc_data": [],
        "data": []
      },
      "code": {
        "lhcb_code": ["DaVinci v36r7p7", "ROOT v6.04", "uncertainties 2.4.6", "mcerp v0.1", "LuaLaTeX beta-0.79.1"],
        "platform": "x86_64-slc6-gcc48-opt",
        "user_code": [{
          "link": "https://github.com/alexpearce/CharmProduction/",
          "instructions": "Contact c.b@cern.ch to request access to the repository. Instructons for running the analysis are contained within README.md"
        }]
      },
      "output_data": {}
    }],
    "dst_selection": {
      "input_data": {
        "mc_data": [{
          "reconstruction_software": {
            "reconstruction_software_name": "Reco15em"
          },
          "stripping_software": {},
          "location": "sim://MC/2015/Beam6500GeV-Jun2015-MagDown-Nu1.6-Pythia8/Sim08h/Trig0x40f9014e/Reco15em/Turbo01em/21263002/DST",
          "generator": "Pythia8",
          "mc_production": "27764"
        }, {
          "reconstruction_software": {
            "reconstruction_software_name": "Reco15em"
          },
          "stripping_software": {},
          "location": "sim://MC/2015/Beam6500GeV-Jun2015-MagDown-Nu1.6-Pythia8/Sim08h/Trig0x40f9014e/Reco15em/Turbo01em/23263020/DST",
          "generator": "Pythia8",
          "mc_production": "27765"
        }, {
          "reconstruction_software": {
            "reconstruction_software_name": "Reco15em"
          },
          "stripping_software": {},
          "location": "sim://MC/2015/Beam6500GeV-Jun2015-MagDown-Nu1.6-Pythia8/Sim08h/Trig0x40f9014e/Reco15em/Turbo01em/23263011/DST",
          "generator": "Pythia8",
          "mc_production": "27766"
        }, {
          "reconstruction_software": {
            "reconstruction_software_name": "Reco15em"
          },
          "stripping_software": {},
          "location": "sim://MC/2015/Beam6500GeV-Jun2015-MagDown-Nu1.6-Pythia8/Sim08h/Trig0x40f9014e/Reco15em/Turbo01em/21263010/DST",
          "generator": "Pythia8",
          "mc_production": "27767"
        }, {
          "reconstruction_software": {
            "reconstruction_software_name": "Reco15em"
          },
          "stripping_software": {},
          "location": "sim://MC/2015/Beam6500GeV-Jun2015-MagDown-Nu1.6-Pythia8/Sim08h/Trig0x40f9014e/Reco15em/Turbo01em/27163003/DST",
          "generator": "Pythia8",
          "mc_production": "27768"
        }, {
          "reconstruction_software": {
            "reconstruction_software_name": "Reco15em"
          },
          "stripping_software": {},
          "location": "sim://MC/2015/Beam6500GeV-Jun2015-MagDown-Nu1.6-Pythia8/Sim08h/Trig0x40f9014e/Reco15em/Turbo01em/27265002/DST",
          "generator": "Pythia8",
          "mc_production": "27769"
        }, {
          "reconstruction_software": {
            "reconstruction_software_name": "Reco15em"
          },
          "stripping_software": {},
          "location": "sim://MC/2015/Beam6500GeV-Jun2015-MagDown-Nu1.6-Pythia8/Sim08h/Trig0x40f9014e/Reco15em/Turbo01em/21103010/DST",
          "generator": "Pythia8",
          "mc_production": "282495"
        }, {
          "reconstruction_software": {
            "reconstruction_software_name": "Reco15em"
          },
          "stripping_software": {},
          "location": "sim://MC/2015/Beam6500GeV-Jun2015-MagDown-Nu1.6-Pythia8/Sim08h/Trig0x40f9014e/Reco15em/Turbo01em/23103011/DST",
          "generator": "Pythia8",
          "mc_production": "282496"
        }, {
          "reconstruction_software": {
            "reconstruction_software_name": "Reco15em"
          },
          "stripping_software": {},
          "location": "sim://MC/2015/Beam6500GeV-Jun2015-MagDown-Nu1.6-Pythia8/Sim08h/Trig0x40f9014e/Reco15em/Turbo01em/27165006/DST",
          "generator": "Pythia8",
          "mc_production": "28247"
        }, {
          "reconstruction_software": {
            "reconstruction_software_name": "Reco15em"
          },
          "stripping_software": {},
          "location": "sim://MC/2015/Beam6500GeV-Jun2015-MagDown-Nu1.6-Pythia8/Sim08h/Trig0x40f9014e/Reco15em/Turbo01em/23103020/DST",
          "generator": "Pythia8",
          "mc_production": "28248"
        }, {
          "reconstruction_software": {
            "reconstruction_software_name": "Reco15em"
          },
          "stripping_software": {},
          "location": "sim://MC/2015/Beam6500GeV-Jun2015-MagDown-Nu1.6-Pythia8/Sim08h/Trig0x40f9014e/Reco15em/Turbo01em/21103003/DST",
          "generator": "Pythia8",
          "mc_production": "28249"
        }, {
          "reconstruction_software": {
            "reconstruction_software_name": "Reco15em"
          },
          "stripping_software": {},
          "location": "sim://MC/2015/Beam6500GeV-Jun2015-MagDown-Nu1.6-Pythia8/Sim08h/Trig0x40f9014e/Reco15em/Turbo01em/27163071/DST",
          "generator": "Pythia8",
          "mc_production": "28250"
        }],
        "data": [{
          "year": "2015",
          "stripping_software": {},
          "location": " sim://LHCb/Collision15em/Beam6500GeV-VeloClosed-MagDown/Real Data/Turbo01em/94000000/TURBO.MDST",
          "reconstruction_software": {
            "reconstruction_software_name": "Turbo01em"
          }
        }]
      },
      "code": {
        "lhcb_code": [],
        "user_code": []
      },
      "stripping_line": "N/A",
      "output_data": {},
      "trigger": "Hlt2CharmHad.*TurboDecision"
    },
    "presentations": [{}, {}, {}, {}],
    "basic_info": {
      "analysis_name": "Charm cross-sections at 13 TeV (part 1 - early measurements)",
      "analysis_number": "ANA-2015-023"
    },
    "internal_discussions": [{
      "url": "https://indico.cern.ch/event/339405/contribution/0",
      "meeting": "lhcb-general",
      "title": "LHCb week: General discussion on 2015 early measurements"
    }, {
      "url": "https://indico.cern.ch/event/345459/",
      "meeting": "lhcb-general",
      "title": "General discussion on 2Early Measurements Task Force (EMTF) PPTS meeting: General discussion on 2015 early measurements015 early measurements"
    }, {
      "url": "https://indico.cern.ch/event/352357/",
      "meeting": "lhcb-general",
      "title": "LHCb week: General discussion on 2015 early measurements and presentation on Charm measurement"
    }, {
      "url": "https://indico.cern.ch/event/361834/contribution/1",
      "meeting": "lhcb-phys-charm",
      "title": "Charm WG: Presentation on the measurement"
    }, {
      "url": "https://indico.cern.ch/event/382233/contribution/10",
      "meeting": "lhcb-general",
      "title": "Institute of Physics rehearsal: Presentation on the measurement"
    }, {
      "url": "https://indico.cern.ch/event/331664/session/1/contribution/10",
      "meeting": "lhcb-general",
      "title": "59th Analysis and Software week: Presentation on measurement progress"
    }, {
      "url": "https://indico.cern.ch/event/361849/",
      "meeting": "lhcb-phys-charm",
      "title": "Charm WG: Request for working group review presentation"
    }, {
      "url": "https://indico.cern.ch/event/358594/session/3/contribution/2",
      "meeting": "lhcb-general",
      "title": "60th Analysis and Software week: Status update"
    }, {
      "url": "https://indico.cern.ch/event/383066/session/2",
      "meeting": "lhcb-general",
      "title": "Tuesday meeting: Request to proceed to PAPER"
    }],
    "documentations": [{
      "url": "https://cds.cern.ch/record/2012800",
      "comment": "LHCb-ANA-2015-023"
    }],
    "extra_info": {
      "status": "9 - PAPER published",
      "arxiv": "1510.01707",
      "egroup": "lhcb-charm-xs-reviewers",
      "twiki": "https://twiki.cern.ch/twiki/bin/viewauth/LHCbPhysics/CharmCrossSection2015"
    }
  },
  "collection": "LHCbAnalysis",
  "schema": "https://localhost:5000/records/jsonschemas/LHCbAnalysis/"
}, {
  "metadata": {
     "auxiliary_measurements": [],
     "n-tuple_production_check": "no",
     "input_datasets": {
        "primary_datasets": [],
        "mc_bg_dataset": [],
        "mc_sig_dataset": []
     },
     "presentations": [
        {}
     ],
     "basic_info": {
        "people_info": {
           "names": "John Doe",
           "email": "john.doe@cern.ch"
        },
        "abstract": "A few words go here",
        "conclusion": "A conclusion go here",
        "os": {
           "version": "6",
           "name": "SLC"
        },
        "analysis_number": "CMS-ANA-2016-999",
        "software": {
           "version": "5_3_2",
           "name": "CMSSW"
        }
     },
     "internal_discussions": [
        {}
     ],
     "main_measurements": [
        {
           "measurement_description": "signal measurment of ZZZ->",
           "detector_final_state": {
              "veto": [],
              "final_state_particles": [
                 {
                    "met_type": "CaloMET",
                    "object": "MET",
                    "met_calo_corrections": "Type1CaloCorrections",
                    "pt_cut": [
                       {
                          "number": 20,
                          "sign": ">"
                       }
                    ]
                 },
                 {
                    "jet_type": "AK5Calo",
                    "pt_cut": [],
                    "sel_criteria": "medium",
                    "object": "bjet",
                    "jet_corrections": "JetCorrections",
                    "number": {
                       "number": 2,
                       "sign": "="
                    },
                    "eta_cut": [],
                    "bjet_discriminator": {
                       "tag": "combinedSecondaryVertexBJetTags"
                    }
                 }
              ],
              "final_state_relations": []
           },
           "n_tuple": [
              {
                 "input_data": {},
                 "user_code": {},
                 "output_data": {},
                 "run_instructions": {}
              }
           ],
           "code_base": {
              "url": "https://github.com/johndoe/repo",
              "tag": "v2.1"
           }
        }
     ],
     "documentations": [
        {}
     ],
     "post_n_tuple": {
        "code_base": {},
        "n_tuple": [
           {
              "input_data": {},
              "user_code": {},
              "output_data": {},
              "run_instructions": {}
           }
        ]
     },
     "publications": [
        {
           "persistent_identifiers": []
        }
     ]
  },
  "collection": "CMSAnalysis",
  "schema": "https://localhost:5000/records/jsonschemas/CMSAnalysis/"
}]